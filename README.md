Viikkotehtävä 2 tavoitteena oli päivittää aiempaa sovellusta niin, että se käyttää ViewModelia. Sovelluksessa voi lisätä uusia tehtäviä, merkitä niitä tehdyiksi, poistaa tehtäviä ja järjestellä niitä. Composessa näyttö päivittyy automaattisesti, kun siellä oleva tieto muuttuu. Lista tehtävistä on tallennettu ViewModeliin mutableStateOf-muuttujaan.
Kun listaan lisätään tehtävä tai checkboxia painetaan, Compose huomaa muutoksen ja näyttää näytön heti uudestaan uusilla tiedoilla. Remember muistaa asiat vain niin kauan kuin sovellus pysyy samassa tilassa. Jos esimerkiksi käännät puhelimen pystyasennosta vaaka-asentoon, remember unohtaa kaiken ja lista tyhjenee. ViewModel taas pysyy tallessa, vaikka näyttöä käännettäisiin tai sovelluksessa tapahtuisi muita muutoksia. Se on siis turvallisempi paikka säilyttää tärkeää tietoa kuin pelkkä remember.
Lataa koodi koneellesi tai hae se Gitistä. Avaa projekti Android Studiossa, valitse yläpalkista vihreä Run-nappi. Sovellus aukeaa emulaattoriin, ja voit kokeilla tehtävien lisäämistä ja poistamista.
